<!DOCTYPE html>
<html lang="es-PE">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultas y Reclamos - Municipalidad de Ivochote</title>
    <!-- Font Libraries -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icon Library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Animation Library -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/output.css">
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body class="font-sans antialiased text-gray-800 bg-gray-50">
    <!-- Header Component -->
    <div id="header-container"></div>

    <!-- Main Content -->
    <main class="py-12">
        <div class="container px-6 mx-auto">
            <!-- Hero Section -->
            <section class="bg-blue-600 rounded-xl overflow-hidden mb-12">
                <div class="relative py-16 px-6 sm:py-24 sm:px-12 lg:px-16">
                    <div class="max-w-2xl mx-auto text-center">
                        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">Consultas y Reclamos</h1>
                        <p class="text-lg text-blue-100 mb-8">Estamos para atender tus inquietudes y sugerencias</p>
                    </div>
                </div>
            </section>

            <!-- Formulario de Consulta -->
            <section class="max-w-3xl mx-auto mb-16">
                <div class="bg-white shadow-lg rounded-xl overflow-hidden">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-2xl font-bold text-gray-800">Formulario de Consulta</h2>
                        <p class="text-gray-600">Completa el siguiente formulario y nos pondremos en contacto contigo</p>
                    </div>
                    
                    <form id="consulta-form" class="p-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="nombre" class="block text-sm font-medium text-gray-700 mb-1">Nombres Completos *</label>
                                <input type="text" id="nombre" name="nombre" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                            <div>
                                <label for="apellidos" class="block text-sm font-medium text-gray-700 mb-1">Apellidos Completos *</label>
                                <input type="text" id="apellidos" name="apellidos" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico *</label>
                                <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                            <div>
                                <label for="telefono" class="block text-sm font-medium text-gray-700 mb-1">Teléfono / Celular</label>
                                <input type="tel" id="telefono" name="telefono" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="tipo" class="block text-sm font-medium text-gray-700 mb-1">Tipo de Consulta *</label>
                            <select id="tipo" name="tipo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                                <option value="" disabled selected>Selecciona una opción</option>
                                <option value="consulta">Consulta General</option>
                                <option value="reclamo">Reclamo</option>
                                <option value="sugerencia">Sugerencia</option>
                                <option value="denuncia">Denuncia</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        
                        <div class="mb-6">
                            <label for="asunto" class="block text-sm font-medium text-gray-700 mb-1">Asunto *</label>
                            <input type="text" id="asunto" name="asunto" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required>
                        </div>
                        
                        <div class="mb-6">
                            <label for="mensaje" class="block text-sm font-medium text-gray-700 mb-1">Mensaje *</label>
                            <textarea id="mensaje" name="mensaje" rows="5" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500" required></textarea>
                        </div>
                        
                        <div class="mb-6">
                            <label for="archivo" class="block text-sm font-medium text-gray-700 mb-1">Adjuntar Archivo (Opcional)</label>
                            <input type="file" id="archivo" name="archivo" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                            <p class="mt-1 text-xs text-gray-500">Formatos aceptados: PDF, JPG, PNG (Máx. 5MB)</p>
                        </div>
                        
                        <div class="flex items-center mb-6">
                            <input type="checkbox" id="privacidad" name="privacidad" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" required>
                            <label for="privacidad" class="ml-2 block text-sm text-gray-700">
                                Acepto la <a href="#" class="text-blue-600 hover:text-blue-800">Política de Privacidad</a> y autorizo el tratamiento de mis datos *
                            </label>
                        </div>
                        
                        <div class="flex justify-end">
                            <button type="submit" class="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-300">
                                Enviar Consulta
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Preguntas Frecuentes -->
            <section class="max-w-3xl mx-auto">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8">Preguntas Frecuentes</h2>
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                        <button class="faq-toggle w-full flex justify-between items-center p-6 text-left bg-gray-50 hover:bg-gray-100">
                            <h3 class="font-medium text-gray-900">¿Cuánto tiempo tardan en responder mi consulta?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform"></i>
                        </button>
                        <div class="faq-content px-6 pb-6 hidden">
                            <p class="text-gray-600">Nos comprometemos a responder todas las consultas en un plazo máximo de 3 días hábiles. Los reclamos y denuncias pueden tomar hasta 5 días hábiles dependiendo de la complejidad del caso.</p>
                        </div>
                    </div>
                    <!-- Más preguntas -->
                </div>
            </section>
        </div>
    </main>

    <!-- Footer Component -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="/assets/js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Manejar el formulario de consulta
    const consultaForm = document.getElementById('consulta-form');
    if (consultaForm) {
        consultaForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validar campos
            const campos = ['nombre', 'apellidos', 'email', 'tipo', 'asunto', 'mensaje', 'privacidad'];
            let isValid = true;
            
            campos.forEach(campoId => {
                const campo = document.getElementById(campoId);
                
                if (campo.type === 'checkbox') {
                    if (!campo.checked) {
                        mostrarError(campo, 'Debes aceptar la política de privacidad');
                        isValid = false;
                    } else {
                        removerError(campo);
                    }
                } else {
                    if (campo.value.trim() === '') {
                        mostrarError(campo, 'Este campo es obligatorio');
                        isValid = false;
                    } else {
                        removerError(campo);
                        
                        // Validación específica para email
                        if (campoId === 'email' && !validarEmail(campo.value)) {
                            mostrarError(campo, 'Por favor ingresa un correo válido');
                            isValid = false;
                        }
                    }
                }
            });
            
            if (isValid) {
                // Simular envío del formulario
                mostrarMensajeExito();
                consultaForm.reset();
            }
        });
    }
    
    // Manejar acordeón de preguntas frecuentes
    document.querySelectorAll('.faq-toggle').forEach(toggle => {
        toggle.addEventListener('click', function() {
            const content = this.nextElementSibling;
            const icon = this.querySelector('i');
            
            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        });
    });
});

function validarEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}

function mostrarError(input, mensaje) {
    const formGroup = input.closest('.form-group') || input.parentElement;
    let errorElement = formGroup.querySelector('.error-text');
    
    if (!errorElement) {
        errorElement = document.createElement('div');
        errorElement.className = 'error-text text-red-600 text-sm mt-1';
        formGroup.appendChild(errorElement);
    }
    
    errorElement.textContent = mensaje;
    input.classList.add('border-red-600');
}

function removerError(input) {
    const formGroup = input.closest('.form-group') || input.parentElement;
    const errorElement = formGroup.querySelector('.error-text');
    
    if (errorElement) {
        errorElement.remove();
    }
    
    input.classList.remove('border-red-600');
}

function mostrarMensajeExito() {
    const mensaje = document.createElement('div');
    mensaje.className = 'fixed top-4 right-4 px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg flex items-center';
    mensaje.innerHTML = `
        <i class="fas fa-check-circle mr-2"></i>
        <span>Tu consulta ha sido enviada correctamente. Nos pondremos en contacto contigo pronto.</span>
    `;
    
    document.body.appendChild(mensaje);
    
    setTimeout(() => {
        mensaje.classList.add('opacity-0', 'transition-opacity', 'duration-300');
        setTimeout(() => {
            mensaje.remove();
        }, 300);
    }, 5000);
}
    </script>
</body>
</html>